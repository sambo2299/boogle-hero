(this.webpackJsonpboogle=this.webpackJsonpboogle||[]).push([[0],{10:function(e,t,r){e.exports={Header:"Header__Header__3PdNJ"}},11:function(e,t,r){e.exports={InputForm:"Input__InputForm__247Xh",Input:"Input__Input__2qBXf"}},24:function(e,t,r){e.exports={MainContainer:"Layout__MainContainer__25bYR"}},25:function(e,t,r){e.exports={LetterBlock:"Blocks__LetterBlock__32L8d"}},26:function(e,t,r){e.exports={letterBox:"Block__letterBox__1gKvL"}},27:function(e,t,r){e.exports={Block:"RightPan__Block__L8Yzi"}},28:function(e,t,r){e.exports={Timer:"Timer__Timer__3gZuq"}},29:function(e,t,r){e.exports={Block:"BoogleContainer__Block__2qJMD"}},3:function(e,t,r){e.exports={Block:"WordLists__Block__8YlGW",List:"WordLists__List__2wxlJ",Items:"WordLists__Items__2u3qg",ItemsScore:"WordLists__ItemsScore__1P-iY"}},33:function(e,t,r){e.exports=r(59)},38:function(e,t,r){},39:function(e,t,r){e.exports={App:"App__App__1o-Fp"}},59:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(23),s=r.n(o),l=(r(38),r(39),r(10)),c=r.n(l),i=function(e){return a.a.createElement("div",{className:c.a.Header},a.a.createElement("h2",null,"Boogle Game"))},u=r(24),m=r.n(u),d=function(e){return a.a.createElement("div",{className:m.a.MainContainer},a.a.createElement(i,null),a.a.createElement("main",null,e.children))},f=r(2),p=r(32),h=r(4),_=r(5),g=r(7),v=r(6),E=r(25),B=r.n(E),L=r(26),k=r.n(L),b=function(e){var t;return t=e.letters.map((function(e,t){return a.a.createElement("td",{key:t,className:k.a.letterBox},a.a.createElement("span",null,e))})),a.a.createElement("tr",null,t)},S=function(e){Object(g.a)(r,e);var t=Object(v.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(_.a)(r,[{key:"shouldComponentUpdate",value:function(e,t){return e.letterLists!==this.props.letterLists}},{key:"render",value:function(){var e=this.props.letterLists?Object(f.a)(this.props.letterLists):null,t=[],r=e?[]:null;if(e){for(;e.length;)t.push(e.splice(0,this.props.matrix));r=t.map((function(e,t){return a.a.createElement(b,{key:t,letters:e})}))}return a.a.createElement("table",{className:B.a.LetterBlock},a.a.createElement("tbody",null,r))}}]),r}(n.Component),x=r(11),W=r.n(x),y=function(e){var t=e.currentWord?e.currentWord:"";return a.a.createElement("form",{onSubmit:e.submit,className:W.a.InputForm},a.a.createElement("input",{type:"text",className:W.a.Input,onChange:e.checkLetter,value:t,disabled:e.disabled,autoFocus:!0}))},I=r(8),M=r.n(I),w=function(e){return a.a.createElement("button",{className:[M.a.Button,e.refresh?M.a.ButtonRefresh:M.a.ButtonStart].join(" "),onClick:e.clicked},e.children)},O=r(9),N=r.n(O),T=function(e){return a.a.createElement("div",{className:N.a.Block},e.letterLists?a.a.createElement("div",null,a.a.createElement(S,{letterLists:e.letterLists,matrix:e.matrix})):a.a.createElement("div",{className:N.a.StartBlock},a.a.createElement("p",null,"Click start button to Start Boogle"),a.a.createElement(w,{clicked:function(){return e.startBoogle(3)},start:"true",value:"3"},"Start 3x3"),a.a.createElement(w,{clicked:function(){return e.startBoogle(4)},start:"true",value:"4"},"Start 4x4"),a.a.createElement(w,{clicked:function(){return e.startBoogle(5)},start:"true",value:"5"},"Start 5x5")),e.letterLists&&a.a.createElement(y,{submit:e.wordSubmit,checkLetter:e.checkLetter,currentWord:e.currentWord,disabled:e.disabledInput}),a.a.createElement("p",{className:N.a.ErrorMessage},e.errorMessage))},j=r(27),C=r.n(j),H=r(28),P=r.n(H),G=function(e){var t=e.timer?a.a.createElement("span",null,Math.floor(e.timer/60)," : ",e.timer>60?e.timer-60:e.timer):null;return a.a.createElement("div",{className:P.a.Timer},t)},R=r(3),J=r.n(R),U=function(e){var t=null;return e.playing&&(t=e.userWords?e.userWords.map((function(e,t){return a.a.createElement("li",{key:t,className:J.a.Items},e)})):null),e.score&&e.score.validList&&(t=e.score?e.score.validList.map((function(e,t){return a.a.createElement("li",{key:t,className:J.a.ItemsScore},e.word," ",e.score)})):null),a.a.createElement("div",{className:J.a.Block},e.score&&a.a.createElement("h4",null,"Total score: ",e.score.totalscore),a.a.createElement("ul",{className:J.a.Lists},t))},z=function(e){return a.a.createElement("div",{className:C.a.Block},e.playing&&a.a.createElement(w,{clicked:e.refresh,refresh:"true"},"Refresh"),a.a.createElement(G,{timer:e.timer}),a.a.createElement(U,{id:"wordboard",playing:e.playing,userWords:e.userWords}),e.score&&a.a.createElement(U,{id:"scoreboard",playing:e.playing,score:e.score}))},F=r(29),A=r.n(F),Y=function(e,t,r){return new Promise((function(n,a){for(var o=e.split(""),s=[],l=[],c=function(e){var n=o[e],c=[];t.forEach((function(e,t){e===n&&l.indexOf("".concat(n,"_").concat(t))<0&&c.push(t)}));var i=q(e,n,s,c);if(!i)return{v:a("not verified!!!")};c=e>0?i.map((function(e){return e.i})):c;var u=D(r,c,t);s=u,l.push("".concat(n,"_").concat(u[0].id))},i=0;i<o.length;i++){var u=c(i);if("object"===typeof u)return u.v}return n(!0)}))},q=function(e,t,r,n){if(e<1)return n;var a=(r=r.map((function(e){return e.solution})).flat()).filter((function(e){return n.indexOf(e.i)>-1}));return!!a.length&&a},D=function(e,t,r){return function(e,t,r){return t.map((function(t){var n=t.idx,a=t.rule,o=r+Math.floor(n/r)*r,s=a.map((function(t){t=parseInt(t);var a=[];return o-n===1&&1===t||o-n===r&&t===r-1||!e[n+t]||a.push({l:e[n+t],i:n+t}),o-n===r&&1===t||o-n===1&&t===r-1||o-n===r&&t>r||!e[n-t]||a.push({l:e[n-t],i:n-t}),a}));return{id:n,solution:s.flat().sort((function(e,t){return e.i-t.i}))}}))}(r,function(e,t){return t.map((function(r){var n=e+Math.floor(t/e)*e;return n-t>1&&n-t<e?{idx:r,rule:[1,e,e-1,e+1]}:{idx:r,rule:[1,e,e-t===1?e-1:[e+1,e-1]].flat()}}))}(e,t),e)},X=r(30),K=r.n(X),V=r(31),Z=r.n(V),$=K.a.create({baseURL:"http://localhost:4999/",timeout:1e3}),Q="/api/getLetters",ee="/api/checkword",te="/api/getScore",re=function(e,t,r){switch(e){case"POST":var n=Z.a.stringify(r);return $.post("".concat(t),n);case"GET":var a=r?"?".concat(r):"";return $.get("".concat(t).concat(a));default:return!1}},ne=function(e){Object(g.a)(r,e);var t=Object(v.a)(r);function r(){var e;Object(h.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={letterLists:null,errorMessage:null,currentWord:null,userWords:null,timer:null,playing:!1,matrixSize:null,score:null},e.fetchLetters=function(t){t=t||e.state.matrixSize;var r=re("GET",Q,"mat="+t);r&&r.then((function(t){if(t&&t.data){var r=Object(p.a)({},e.state);r.letterLists=t.data.letters,e.setState({letterLists:r.letterLists,playing:!0},(function(){e.startTimer()}))}})).catch((function(e){}))},e.startTimer=function(){var t=0;e.timer=setInterval((function(){e.setState({timer:t},(function(){t++}))}),1e3),e.timeout=setTimeout((function(){clearInterval(e.timer),e.boogleTimed()}),3e4)},e.boogleTimed=function(){e.setState({disabledInput:!0,errorMessage:"BOOGLE TIMEOUT, GETTING YOUR SCORE"});var t=e.state.userWords?Object(f.a)(e.state.userWords):[],r=re("POST",te,{words:t});r&&r.then((function(t){e.setState({score:t.data.score,errorMessage:null})})).catch((function(e){console.log(e)}))},e.refreshBoogleHandler=function(){clearInterval(e.timer),e.setState({timer:null,userWords:null,playing:null,score:null,errorMessage:null,disabledInput:null}),e.fetchLetters()},e.startBoogleHandler=function(t){e.setState({matrixSize:t}),e.fetchLetters(t)},e.checkLetterHandler=function(t){var r=t.target.value,n=t.target.value&&t.target.value.length?t.target.value[t.target.value.length-1].toLowerCase():null,a=e.state.letterLists;n?-1===a.indexOf(n[n.length-1])?e.setState({errorMessage:"Letter do not exists"}):e.setState({currentWord:r,errorMessage:null}):e.setState({currentWord:t.target.value,errorMessage:null})},e.validateWord=function(t){return new Promise((function(r,n){Y(t,e.state.letterLists,e.state.matrixSize).then((function(e){var a=re("GET",ee,"word="+t);a&&a.then((function(e){return r(e.data.validation)})).catch((function(e){return console.log(e),n(e)}))})).catch((function(e){return console.log(e),r(!1)}))}))},e.wordSubmitHandler=function(t){t.preventDefault();var r=e.state.currentWord.toLowerCase();e.state.userWords&&e.state.userWords.indexOf(r)>-1?e.setState({errorMessage:"Word already exists",currentWord:null}):e.validateWord(r).then((function(t){if(t){var n=e.state.userWords?[].concat(Object(f.a)(e.state.userWords),[r]):[r];e.setState({userWords:n,currentWord:null})}else e.setState({errorMessage:"Word not valid"}),setTimeout((function(){e.setState({errorMessage:null})}),3e3)})).catch((function(e){console.log(e)}))},e}return Object(_.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:A.a.Block},a.a.createElement(T,{startBoogle:this.startBoogleHandler,letterLists:this.state.letterLists,wordSubmit:this.wordSubmitHandler,checkLetter:this.checkLetterHandler,errorMessage:this.state.errorMessage,currentWord:this.state.currentWord,playing:this.state.playing,matrix:this.state.matrixSize,disabledInput:this.state.disabledInput}),a.a.createElement(z,{refresh:this.refreshBoogleHandler,timer:this.state.timer,playing:this.state.playing,userWords:this.state.userWords,score:this.state.score}))}}]),r}(n.Component);var ae=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null,a.a.createElement(ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,r){e.exports={Button:"Button__Button__1JdUk",ButtonRefresh:"Button__ButtonRefresh__3oUyH",ButtonStart:"Button__ButtonStart__1-6ho"}},9:function(e,t,r){e.exports={Block:"LeftPan__Block__Jyop2",ErrorMessage:"LeftPan__ErrorMessage__10v8s",StartBlock:"LeftPan__StartBlock__35ivG",InnerBlock:"LeftPan__InnerBlock__FUDee",Input:"LeftPan__Input__3V4Gd"}}},[[33,1,2]]]);
//# sourceMappingURL=main.15c458e2.chunk.js.map